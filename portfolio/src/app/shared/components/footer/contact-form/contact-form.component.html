<section class="fontOverpass">
  <span class="colorGreen fontS32W700">Want to discuss a new project?</span>
  <span class="fontS23"
    >Say hello! Let's discuss your ideas and make it happen</span
  >

  <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
    <div class="inputContainer">
      @if (nameIsFocused) {
        <label class="placeholder">{{ placeholderName }}</label>
      }
      <input
        #name="ngModel"
        class="inputField"
        type="text"
        id="name"
        name="name"
        [placeholder]="nameIsFocused ? '' : placeholderName"
        (focus)="nameOnFocus()" 
        (blur)="nameOnBlur()"
        spellcheck="false"
        required
        minlength="2"
        maxlength="50"
        [(ngModel)]="contactData.name"
      />
      @if (!name.valid && name.touched) {
      <span class="invalidMessage"
        >Please enter your name with at least 2 characters</span
      >
      }
    </div>

    <div class="inputContainer">
      @if (emailIsFocused) {
        <label class="placeholder">{{ placeholderEmail }}</label>
      }
      <input
        #email="ngModel"
        class="inputField"
        type="email"
        id="email"
        name="email"
        [placeholder]="emailIsFocused ? '' : placeholderEmail"
        (focus)="emailOnFocus()" 
        (blur)="emailOnBlur()"
        spellcheck="false"
        required
        maxlength="50"
        pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
        [(ngModel)]="contactData.email"
      />
      @if (!email.valid && email.touched) {
      <span class="invalidMessage">Please enter a valid Email</span>
      }
    </div>

    <div class="inputContainer">
      @if (messageIsFocused) {
        <label class="placeholder">{{ placeholderMessage }}</label>
      }
      <textarea
        #message="ngModel"
        class="inputField"
        id="message"
        name="message"
        [placeholder]="messageIsFocused ? '' : placeholderMessage"
        (focus)="messageOnFocus()" 
        (blur)="messageOnBlur()"
        spellcheck="false"
        required
        minlength="10"
        maxlength="800"
        style="height: 200px"
        [(ngModel)]="contactData.message"
      ></textarea>
      @if (!message.valid && message.touched) {
      <span class="invalidMessage"
        >Please enter your message with at least 10 characters</span
      >
      }
    </div>

    <div class="inputContainer">
      <div class="checkboxAndText">
        <div [ngClass]="{'customCheckboxChecked': contactData.privacyPolicy, 'customCheckbox': !contactData.privacyPolicy}" (click)="toggleCheckbox()"></div>
        <input
          #checkbox="ngModel"
          id="privacyPolicy"
          name="privacyPolicy"
          class="checkbox"
          [(ngModel)]="contactData.privacyPolicy"
          [checked]="contactData.privacyPolicy"
          required
          type="checkbox"
          hidden
        />
        <span
          >I've read the <a class="colorGreen" href="portfolio-page/privacy-policy">privacy policy</a> and
          agree to the processing of my data as outlined.</span
        >
      </div>
      @if (!checkbox.valid && message.valid && name.valid && email.valid) {
      <span class="invalidMessage">Please accept the privacy policy</span>
      }
    </div>

    <input
      [disabled]="contactForm.invalid"
      class="btnForm"
      [ngClass]="{ disabled: contactForm.invalid, enabled: contactForm.valid }"
      type="submit"
      value="Send message"
    />
  </form>
  <div #feedbackMsg class="feedbackMsg">
    <span class="fontOverpass">Your message has been successfully transmitted</span>
  </div>
</section>
